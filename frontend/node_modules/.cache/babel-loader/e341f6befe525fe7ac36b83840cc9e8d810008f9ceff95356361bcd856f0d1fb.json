{"ast":null,"code":"const API_BASE_URL = \"http://localhost:5001/api\";\n\n// Helper function for handling API calls\nconst apiCall = async (endpoint, options = {}) => {\n  const token = localStorage.getItem(\"token\");\n  const defaultHeaders = {\n    \"Content-Type\": \"application/json\",\n    ...(token && {\n      Authorization: `Bearer ${token}`\n    })\n  };\n  try {\n    const response = await fetch(`${API_BASE_URL}${endpoint}`, {\n      ...options,\n      headers: {\n        ...defaultHeaders,\n        ...options.headers\n      }\n    });\n    if (!response.ok) {\n      const error = await response.json();\n      throw new Error(error.message || \"Something went wrong\");\n    }\n    return await response.json();\n  } catch (error) {\n    console.error(\"API Error:\", error);\n    throw error;\n  }\n};\n\n// Auth APIs\nexport const authAPI = {\n  login: credentials => apiCall(\"/users/login\", {\n    method: \"POST\",\n    body: JSON.stringify(credentials)\n  }),\n  signup: userData => apiCall(\"/users/signup\", {\n    method: \"POST\",\n    body: JSON.stringify(userData)\n  }),\n  getProfile: () => apiCall(\"/users/profile\"),\n  updateProfile: userData => apiCall(\"/users/profile\", {\n    method: \"PUT\",\n    body: JSON.stringify(userData)\n  })\n};\n\n// Clinics APIs\nexport const clinicsAPI = {\n  getClinics: async (city = \"Gainesville\") => {\n    try {\n      // This could be replaced with a real external API call\n      const response = await fetch(`https://api.example.com/clinics?city=${encodeURIComponent(city)}`);\n      return await response.json();\n    } catch (error) {\n      console.error(\"Failed to fetch clinics:\", error);\n      // Return hardcoded data as fallback\n      return [{\n        id: 1,\n        name: \"UF Health Family Medicine - Main\",\n        lat: 29.6399,\n        lng: -82.3447,\n        address: \"1707 N Main St, Gainesville, FL 32609\",\n        phone: \"(352) 265-1234\",\n        type: \"Primary Care\"\n      }\n      // ... other clinics\n      ];\n    }\n  },\n  getClinicDetails: async clinicId => {\n    try {\n      const response = await fetch(`https://api.example.com/clinics/${clinicId}`);\n      return await response.json();\n    } catch (error) {\n      console.error(\"Failed to fetch clinic details:\", error);\n      throw error;\n    }\n  }\n};\n\n// Emergency Services API\nexport const emergencyAPI = {\n  getNearbyER: async (lat, lng) => {\n    try {\n      const response = await fetch(`https://api.example.com/emergency?lat=${lat}&lng=${lng}`);\n      return await response.json();\n    } catch (error) {\n      console.error(\"Failed to fetch emergency services:\", error);\n      throw error;\n    }\n  }\n};","map":{"version":3,"names":["API_BASE_URL","apiCall","endpoint","options","token","localStorage","getItem","defaultHeaders","Authorization","response","fetch","headers","ok","error","json","Error","message","console","authAPI","login","credentials","method","body","JSON","stringify","signup","userData","getProfile","updateProfile","clinicsAPI","getClinics","city","encodeURIComponent","id","name","lat","lng","address","phone","type","getClinicDetails","clinicId","emergencyAPI","getNearbyER"],"sources":["/Users/diegogomez/mern-auth copy/frontend/src/services/api.js"],"sourcesContent":["const API_BASE_URL = \"http://localhost:5001/api\";\n\n// Helper function for handling API calls\nconst apiCall = async (endpoint, options = {}) => {\n  const token = localStorage.getItem(\"token\");\n\n  const defaultHeaders = {\n    \"Content-Type\": \"application/json\",\n    ...(token && { Authorization: `Bearer ${token}` }),\n  };\n\n  try {\n    const response = await fetch(`${API_BASE_URL}${endpoint}`, {\n      ...options,\n      headers: {\n        ...defaultHeaders,\n        ...options.headers,\n      },\n    });\n\n    if (!response.ok) {\n      const error = await response.json();\n      throw new Error(error.message || \"Something went wrong\");\n    }\n\n    return await response.json();\n  } catch (error) {\n    console.error(\"API Error:\", error);\n    throw error;\n  }\n};\n\n// Auth APIs\nexport const authAPI = {\n  login: (credentials) =>\n    apiCall(\"/users/login\", {\n      method: \"POST\",\n      body: JSON.stringify(credentials),\n    }),\n\n  signup: (userData) =>\n    apiCall(\"/users/signup\", {\n      method: \"POST\",\n      body: JSON.stringify(userData),\n    }),\n\n  getProfile: () => apiCall(\"/users/profile\"),\n\n  updateProfile: (userData) =>\n    apiCall(\"/users/profile\", {\n      method: \"PUT\",\n      body: JSON.stringify(userData),\n    }),\n};\n\n// Clinics APIs\nexport const clinicsAPI = {\n  getClinics: async (city = \"Gainesville\") => {\n    try {\n      // This could be replaced with a real external API call\n      const response = await fetch(\n        `https://api.example.com/clinics?city=${encodeURIComponent(city)}`\n      );\n      return await response.json();\n    } catch (error) {\n      console.error(\"Failed to fetch clinics:\", error);\n      // Return hardcoded data as fallback\n      return [\n        {\n          id: 1,\n          name: \"UF Health Family Medicine - Main\",\n          lat: 29.6399,\n          lng: -82.3447,\n          address: \"1707 N Main St, Gainesville, FL 32609\",\n          phone: \"(352) 265-1234\",\n          type: \"Primary Care\",\n        },\n        // ... other clinics\n      ];\n    }\n  },\n\n  getClinicDetails: async (clinicId) => {\n    try {\n      const response = await fetch(\n        `https://api.example.com/clinics/${clinicId}`\n      );\n      return await response.json();\n    } catch (error) {\n      console.error(\"Failed to fetch clinic details:\", error);\n      throw error;\n    }\n  },\n};\n\n// Emergency Services API\nexport const emergencyAPI = {\n  getNearbyER: async (lat, lng) => {\n    try {\n      const response = await fetch(\n        `https://api.example.com/emergency?lat=${lat}&lng=${lng}`\n      );\n      return await response.json();\n    } catch (error) {\n      console.error(\"Failed to fetch emergency services:\", error);\n      throw error;\n    }\n  },\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}